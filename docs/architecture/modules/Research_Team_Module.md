# Research Team Module Design

> **Module**: Research Team (åŸ AI Teams)
> **Path**: `/ai-teams`
> **Version**: 1.0
> **Date**: 2026-01-17

## Overview

Research Team æ¨¡å—æ˜¯ NEXEN å¤šæ™ºèƒ½ä½“ç ”ç©¶ç³»ç»Ÿçš„é…ç½®ä¸­å¿ƒï¼Œç”¨æˆ·å¯ä»¥åœ¨æ­¤ç®¡ç†å’Œè‡ªå®šä¹‰ AI ç ”ç©¶å›¢é˜Ÿçš„å„ä¸ª Agent æˆå‘˜ã€‚

## Functional Requirements

### Core Features

1. **Agent é…ç½®ç®¡ç†**
   - æŸ¥çœ‹ 14 ä¸ªé»˜è®¤ Agent åŠå…¶é…ç½®
   - ç¼–è¾‘ Agent å‚æ•°ï¼ˆæ¨¡å‹ã€æ¸©åº¦ã€persona ç­‰ï¼‰
   - å¯ç”¨/ç¦ç”¨ç‰¹å®š Agent

2. **è‡ªå®šä¹‰ Agent åˆ›å»º**
   - åŸºäºé»˜è®¤ Agent æ¨¡æ¿åˆ›å»º
   - ä»å¤´åˆ›å»ºå…¨æ–° Agent
   - å…‹éš†ç°æœ‰ Agent

3. **Agent æµ‹è¯•**
   - ä½¿ç”¨ç®€å•ä»»åŠ¡æµ‹è¯• Agent å“åº”
   - æŸ¥çœ‹æ‰§è¡Œç»“æœå’Œ token æ¶ˆè€—

## UI Design

### Page Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Research Team                                [+ åˆ›å»ºè‡ªå®šä¹‰ Agent] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  [å…¨éƒ¨] [æ¨ç†é›†ç¾¤] [ä¿¡æ¯é›†ç¾¤] [ç”Ÿäº§é›†ç¾¤] [åè°ƒé›†ç¾¤] [æˆ‘çš„è‡ªå®šä¹‰]   â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                â”‚                                                â”‚
â”‚  Agent åˆ—è¡¨    â”‚              Agent è¯¦æƒ…é¢æ¿                    â”‚
â”‚  (æŒ‰é›†ç¾¤åˆ†ç»„)  â”‚                                                â”‚
â”‚                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ ğŸ¯ Meta-Coordinator                     â”‚  â”‚
â”‚  â”‚ ğŸ¯ Meta   â”‚ â”‚  â”‚    å…ƒåè°ƒè€…                              â”‚  â”‚
â”‚  â”‚ Coord â—‹   â”‚ â”‚  â”‚    [åè°ƒé›†ç¾¤]                           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ§® Logic  â”‚ â”‚  â”‚ æ¨¡å‹é…ç½®                                 â”‚  â”‚
â”‚  â”‚ ician â—   â”‚ â”‚  â”‚ â”œâ”€ ä¸»æ¨¡å‹: openai/gpt-4o               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â”œâ”€ å¤‡é€‰æ¨¡å‹: gemini-2.0-pro            â”‚  â”‚
â”‚                â”‚  â”‚ â”œâ”€ Temperature: 0.7                    â”‚  â”‚
â”‚  ...           â”‚  â”‚ â””â”€ Max Tokens: 4000                    â”‚  â”‚
â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                â”‚                                                â”‚
â”‚                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                â”‚  â”‚ äººè®¾æè¿°                                 â”‚  â”‚
â”‚                â”‚  â”‚ ä½ æ˜¯ä¸€ä½èµ„æ·±çš„AIç ”ç©¶PIï¼Œè´Ÿè´£åˆ†è§£ä»»åŠ¡...   â”‚  â”‚
â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                â”‚                                                â”‚
â”‚                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                â”‚  â”‚ èŒè´£                                     â”‚  â”‚
â”‚                â”‚  â”‚ [åˆ†è§£å¤æ‚ç ”ç©¶ä»»åŠ¡] [åˆ†é…ä»»åŠ¡] [æ•´åˆè¾“å‡º]  â”‚  â”‚
â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                â”‚                                                â”‚
â”‚                â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚                â”‚  â”‚ æµ‹è¯• Agent                               â”‚  â”‚
â”‚                â”‚  â”‚ [è¾“å…¥æµ‹è¯•ä»»åŠ¡...]     [è¿è¡Œæµ‹è¯•]         â”‚  â”‚
â”‚                â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Agent Card Component

```tsx
interface AgentCardProps {
    profile: AgentProfile;
    isSelected: boolean;
    onSelect: () => void;
    onToggle: () => void;  // Enable/disable toggle
}
```

æ˜¾ç¤ºå†…å®¹ï¼š
- Agent å›¾æ ‡ (emoji)
- è‹±æ–‡åç§°
- ä¸­æ–‡åç§°
- å¯ç”¨çŠ¶æ€å¼€å…³

### Agent Detail Panel

é…ç½®åŒºå—ï¼š

1. **æ¨¡å‹é…ç½®** (Bot icon)
   - ä¸»æ¨¡å‹é€‰æ‹©
   - å¤‡é€‰æ¨¡å‹é€‰æ‹©
   - Temperature æ»‘å—
   - Max Tokens è¾“å…¥

2. **äººè®¾æè¿°** (Sparkles icon)
   - å¤šè¡Œæ–‡æœ¬ç¼–è¾‘
   - æè¿° Agent è§’è‰²å’Œè¡Œä¸º

3. **èŒè´£** (Zap icon)
   - æ ‡ç­¾åˆ—è¡¨
   - å¯æ·»åŠ /åˆ é™¤

4. **æ€§æ ¼ç‰¹å¾** (Sliders icon)
   - ä¸‹æ‹‰é€‰æ‹©: very_low, low, medium, high, very_high
   - ç‰¹å¾åŒ…æ‹¬: risk_preference, creativity, rigor, formalization

5. **æ•°æ®æº** (Database icon)
   - é…ç½®çš„æ•°æ®æºåˆ—è¡¨

6. **æµ‹è¯• Agent** (Play icon)
   - ä»»åŠ¡è¾“å…¥æ¡†
   - æ‰§è¡ŒæŒ‰é’®
   - ç»“æœæ˜¾ç¤º

## Data Model

### AgentProfile

```typescript
interface AgentProfile {
    id: string;
    user_id: string;
    agent_type: string;              // meta_coordinator, explorer, etc.
    display_name: string;            // English name
    display_name_cn: string;         // Chinese name
    cluster: AgentCluster;           // reasoning, information, production, coordination

    // Model Configuration
    role_model: string;              // e.g., "openai/gpt-4o"
    fallback_model?: string;
    temperature: number;             // 0.0 - 1.0
    max_tokens: number;

    // Persona
    persona: string;                 // System prompt
    traits: Record<string, string>;  // Personality traits
    responsibilities: string[];      // List of duties

    // Pipeline Configuration
    pipeline_config: PipelineConfig;

    // Tools & Sources
    data_sources: string[];
    enabled_skills: string[];

    // Status
    is_custom: boolean;
    is_enabled: boolean;
    created_at: string;
    updated_at: string;
}
```

### Agent Cluster

```typescript
type AgentCluster = 'reasoning' | 'information' | 'production' | 'coordination';
```

## API Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/agents/profiles` | GET | è·å–ç”¨æˆ·æ‰€æœ‰ Agent é…ç½® |
| `/agents/profiles` | POST | åˆ›å»ºè‡ªå®šä¹‰ Agent |
| `/agents/profiles/{id}` | GET | è·å–å•ä¸ª Agent é…ç½® |
| `/agents/profiles/{id}` | PUT | æ›´æ–° Agent é…ç½® |
| `/agents/profiles/{id}` | DELETE | åˆ é™¤è‡ªå®šä¹‰ Agent |
| `/agents/profiles/defaults` | GET | è·å– 14 ä¸ªé»˜è®¤ Agent æ¨¡æ¿ |
| `/agents/profiles/init-defaults` | POST | åˆå§‹åŒ–ç”¨æˆ·é»˜è®¤ Agent |
| `/agents/profiles/{id}/clone` | POST | å…‹éš† Agent |
| `/agents/profiles/{id}/test` | POST | æµ‹è¯• Agent |

## Default Agents

### Coordination Cluster
| Agent Type | Display Name | ä¸­æ–‡å |
|------------|--------------|--------|
| meta_coordinator | Meta-Coordinator | å…ƒåè°ƒè€… |

### Reasoning Cluster
| Agent Type | Display Name | ä¸­æ–‡å |
|------------|--------------|--------|
| logician | Logician | é€»è¾‘æ¨ç†è€… |
| critic | Critic | æ‰¹åˆ¤è€… |
| connector | Connector | è¿æ¥è€… |
| genealogist | Genealogist | è°±ç³»å­¦å®¶ |
| historian | Historian | æŠ€æœ¯å†å²å­¦å®¶ |

### Information Cluster
| Agent Type | Display Name | ä¸­æ–‡å |
|------------|--------------|--------|
| explorer | Explorer | æ¢ç´¢è€… |
| social_scout | Social Scout | ç¤¾äº¤ä¾¦å¯Ÿ |
| cn_specialist | CN Specialist | ä¸­æ–‡ä¸“å®¶ |
| vision_analyst | Vision Analyst | è§†è§‰åˆ†æå¸ˆ |

### Production Cluster
| Agent Type | Display Name | ä¸­æ–‡å |
|------------|--------------|--------|
| builder | Builder | æ„å»ºè€… |
| scribe | Scribe | è®°å½•è€… |
| archivist | Archivist | æ¡£æ¡ˆç®¡ç†å‘˜ |
| prompt_engineer | Prompt Engineer | æç¤ºè¯å·¥ç¨‹å¸ˆ |

## Implementation Files

| File | Description |
|------|-------------|
| `web/frontend/app/(main)/ai-teams/page.tsx` | ä¸»é¡µé¢ç»„ä»¶ |
| `web/frontend/lib/api.ts` | agentApi å®¢æˆ·ç«¯ |
| `web/backend/app/api/agent_profiles.py` | åç«¯ API |
| `web/backend/app/db/models.py` | AgentProfile æ¨¡å‹ |

## User Flow

```
1. ç”¨æˆ·è¿›å…¥ Research Team é¡µé¢
              â”‚
              â–¼
2. ç³»ç»Ÿè‡ªåŠ¨åˆå§‹åŒ– 14 ä¸ªé»˜è®¤ Agent (å¦‚æœé¦–æ¬¡è®¿é—®)
              â”‚
              â–¼
3. ç”¨æˆ·æŒ‰é›†ç¾¤æµè§ˆ Agent åˆ—è¡¨
              â”‚
              â–¼
4. é€‰æ‹© Agent æŸ¥çœ‹è¯¦æƒ…
              â”‚
              â”œâ”€â”€â”€â–¶ ç¼–è¾‘é…ç½® â”€â”€â”€â–¶ ä¿å­˜
              â”‚
              â”œâ”€â”€â”€â–¶ å…‹éš† Agent â”€â”€â”€â–¶ åˆ›å»ºå‰¯æœ¬
              â”‚
              â”œâ”€â”€â”€â–¶ æµ‹è¯• Agent â”€â”€â”€â–¶ æŸ¥çœ‹ç»“æœ
              â”‚
              â””â”€â”€â”€â–¶ å¯ç”¨/ç¦ç”¨ Agent

5. (å¯é€‰) åˆ›å»ºè‡ªå®šä¹‰ Agent
              â”‚
              â”œâ”€â”€â”€â–¶ é€‰æ‹©åŸºç¡€æ¨¡æ¿
              â”‚
              â””â”€â”€â”€â–¶ é…ç½®å‚æ•° â”€â”€â”€â–¶ ä¿å­˜
```
